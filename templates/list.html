<!DOCTYPE html>
<html>
<head>
    <title>Media List</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='turtle.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"></link>
    <script type="text/javascript">
        var isSearchMode = "{{ search_mode }}".toLowerCase() === "true";
        var checkedTagIds = "{{ checked_tag_ids }}".split(' ');
    </script>
    <script src="{{ url_for('static', filename='helper.js') }}"></script>
</head>
<body>
    <div class="box">
        <div>
          <div class="list-header">
            <h4 class="title">Media list in {{ root_dir }}.{{ extensions }} ({{ total }} files)</h4>
          </div>
          <div class="view list-view">
            <ul>
                {% for idx in range(0, total) %} 
                <li>
                    <a id="{{ idx }}" href="{{ url_for('show_media', idx=idx) }}"
                    tabindex="{% if media[idx]['bookmarked'] %}0{% else %}-1{% endif %}">
                    {{ media[idx]['path'] }}
                    {% if media[idx]['favorite'] %}<img src="{{ url_for('static', filename='heart.svg') }}" width="18" height="18"
                    alt="Fav">{% endif %}{% if media[idx]['bookmarked'] %}<img src="{{ url_for('static', filename='bookmark.svg') }}" width="18" height="18"
                    alt="Marked">{% endif %}</a>
                </li>
                {% endfor %}
            </ul>
          </div>
          <div class="navigation">
            <div class="side-by-side">
              <form action="{{ url_for('refresh_all') }}" method="POST">
                <input type="submit" value="Refresh">
              </form>
              &nbsp;
              <form action="{{ url_for('refresh_tags') }}" method="POST">
                <input type="submit" value="Refresh tags">
              </form>
            </div>
          </div>
        </div>
        {% include './controls.html' %}
    </div>
</body>
</html>
